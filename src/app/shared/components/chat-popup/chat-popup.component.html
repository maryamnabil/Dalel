<div class="popup">
  <mat-dialog-content class="p-3 p-lg-5">
    <div class="chats d-flex flex-column gap-3">
      <div *ngFor="let chat of chats" class="chat d-flex gap-3">
        <div class="img">
          <img
            class="rounded-circle"
            width="48"
            height="48"
            [src]="chat.fromUserImage | secureUrl | async"
            alt=""
          />
        </div>
        <div class="info">
          <div class="company-time mb-2 d-flex gap-2 align-items-center">
            <h6 class="fw-bolder mb-0">{{ chat?.fromUserName }}</h6>
            <span style="font-size: 12px">{{
              chat.dateTime | date : "HH:MM"
            }}</span>
          </div>
          <p>
            {{ chat.message }}
          </p>
        </div>
      </div>
      <button
        *ngIf="chats.length < totalRecords && !isLoading"
        (click)="onLoadMore()"
        class="btn"
      >
        {{ "LOAD_MORE" | translate }}
      </button>
    </div>
    <ng-container *ngIf="isLoading">
      <div *ngFor="let item of [1, 1, 1, 1, 1]" class="d-flex mb-3 gap-3">
        <div
          style="width: 48px; height: 48px; border-radius: 50%; flex-shrink: 0"
          class="placeholder"
        ></div>
        <div class="w-100">
          <div style="width: 50%; height: 20px" class="placeholder mb-3"></div>
          <div style="width: 100%; height: 15px" class="placeholder mb-2"></div>
          <div style="width: 100%; height: 15px" class="placeholder"></div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="!chats.length">
      <div
        class="d-flex justify-content-center align-items-center"
        style="height: 50vh"
      >
        {{ "NO_CHATS" | translate }}
      </div>
    </ng-container>
  </mat-dialog-content>
</div>
